<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>主页面</title>
</head>
<body onload="window_onload()">
	<h1>通道通信实例</h1>
	<iframe src="http://192.168.1.105/第11章/11-3.html" style="display: none;">
		
	</iframe>
	<iframe src="http://192.168.1.105/第11章/11-5.html" style="display: none;"></iframe>
	<script type="text/javascript">
		function window_onload(){
			var iframes, messageHandler;

			iframes = window.frames;

			messageHandler = function(messageEvent){
				if(messageEvent.ports.length > 0){
					iframes[1].postMessage(messageEvent.data,'http://192.168.1.105/第11章/11-5.html', messageEvent.ports);
				}
			}
			window.addEventListener('message',messageHandler, false);
		}
	</script>
</body>
</html>